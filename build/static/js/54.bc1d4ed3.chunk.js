(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[54],{1693:function(e,a,t){},1694:function(e,a,t){e.exports=t.p+"static/media/user.c2ec8ddd.jpg"},1695:function(e,a,t){e.exports=t.p+"static/media/25.e002b22a.jpg"},2173:function(e,a,t){"use strict";t.r(a);var n=t(27),l=t(0),o=t.n(l),c=t(1257),s=t(1255),r=t(1256),i=t(189),d=t(819),u=t(803),m=t(809),v=t(1009),h=t(13),f=t(14),p=t(16),g=t(15),b=(t(1693),t(42)),E=(t(890),t(1694)),j=t.n(E),O=function(e){Object(p.a)(t,e);var a=Object(g.a)(t);function t(e){var n;return Object(h.a)(this,t),(n=a.call(this,e)).state={},n}return Object(f.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.props.roomChatData&&this.props.roomChatData.length?this.props.roomChatData.map((function(e,a){return o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{key:a,className:"message"},o.a.createElement("div",{class:"message-body"},o.a.createElement(s.a,null,o.a.createElement(r.a,{lg:"4"},o.a.createElement("img",{style:{borderRadius:"50%"},width:"40px",height:"40px",src:j.a})),o.a.createElement(r.a,{lg:"8"},o.a.createElement(s.a,null,o.a.createElement("h6",{className:"container"},o.a.createElement("b",null,null===e||void 0===e?void 0:e.username))),o.a.createElement(s.a,null,o.a.createElement("h6",{className:"container"},null===e||void 0===e?void 0:e.msg))))))))})).reverse():null)}}]),t}(o.a.Component),w=t(1695),k=t.n(w),C=function(e){Object(p.a)(t,e);var a=Object(g.a)(t);function t(e){var n;return Object(h.a)(this,t),(n=a.call(this,e)).handleliveChat=function(){var e,a=null===(e=n.props)||void 0===e?void 0:e.sellerid;localStorage.setItem("sellerid",a),setInterval((function(){b.a.get("/user/liveChat_byseller/".concat(a)).then((function(e){var a;n.setState({roomChatData:null===(a=e.data)||void 0===a?void 0:a.data})})).catch((function(e){console.log(e)}))}),2e3)},n.componentDidMount=function(){var e,a=null===(e=n.props)||void 0===e?void 0:e.sellerid;n.handleliveChat(),b.a.get("/user/liveChat_byseller/".concat(a)).then((function(e){var a,t;console.log(null===(a=e.data)||void 0===a?void 0:a.data),n.setState({roomChatData:null===(t=e.data)||void 0===t?void 0:t.data})})).catch((function(e){console.log(e)}))},n.countRef=o.a.createRef(),n.apicall=o.a.createRef(),n.callmsg=o.a.createRef(),n.state={roomChatData:[],Index:"",data:{},sendbutton:"",Activeastro:{},CurrentRoomid:"",userId:"",astroId:"",msg:"hello",roomId:""},n}return Object(f.a)(t,[{key:"render",value:function(){var e;return o.a.createElement("div",{className:""},o.a.createElement("div",{class:"app rt-chats"},o.a.createElement("div",{class:"messages"},o.a.createElement("div",{className:"chat-header"},o.a.createElement("p",null,o.a.createElement("span",null,o.a.createElement("img",{src:k.a,className:"app-img",alt:"image"})))),o.a.createElement("div",{class:"messages-history"},o.a.createElement(O,{roomChatData:this.state.roomChatData&&(null===(e=this.state.roomChatData)||void 0===e?void 0:e.length)>0?this.state.roomChatData:[]})))))}}]),t}(o.a.Component),y=(t(889),t(59));a.default=function(){var e=Object(l.useState)(!1),a=Object(n.a)(e,2),t=a[0],h=a[1],f=Object(l.useState)(""),p=Object(n.a)(f,2),g=(p[0],p[1]),E=Object(l.useState)(""),j=Object(n.a)(E,2),O=j[0],w=j[1],k=Object(l.useState)(""),N=Object(n.a)(k,2),S=N[0],x=N[1],D=Object(l.useState)(""),I=Object(n.a)(D,2),M=I[0],T=I[1],F=Object(l.useState)(!1),R=Object(n.a)(F,2),z=R[0],L=(R[1],Object(l.useState)(!1)),A=Object(n.a)(L,2),P=A[0],_=A[1],J=Object(l.useState)(!1),V=Object(n.a)(J,2),q=(V[0],V[1],Object(l.useState)()),B=Object(n.a)(q,2),G=(B[0],B[1],Object(y.h)()),H={appId:"211ddf5d3ed341acaf8f7608e94b7c91",channel:O,enableVideo:!0,token:M&&M||localStorage.getItem("astrotokenforlivestream"),uid:0,role:"host"};Object(l.useEffect)((function(){var e=function(){window.history.pushState(null,null,window.location.pathname)};return window.addEventListener("popstate",e),function(){window.removeEventListener("popstate",e)}}),[]);var K={EndCall:function(){b.a.delete("/user/dltliveChat/".concat(G.id)).then((function(e){console.log(e.data),b.a.get("/user/disConnectLiveStream/".concat(G.id)).then((function(e){console.log(e.data),window.close()})).catch((function(e){console.log(e.response)}))})).catch((function(e){console.log(e.response)}))}};return o.a.createElement("div",{className:"videocallmain mt-2"},o.a.createElement(c.a,null,o.a.createElement(s.a,{className:"mt-2"},o.a.createElement(r.a,{lg:"4",md:"4",sm:"4"},o.a.createElement("div",{className:"container mt-2 mb-1"},o.a.createElement(i.a,{onClick:function(e){return function(e){e.preventDefault();var a={astroAccount:G.id,status:!0};"Active"===S&&b.a.post("/user/astroLiveStreaming",a).then((function(e){var a,t,n,l,o,c,s,r,i,d,u,m,v,f,p,b;(console.log(null===(a=e.data)||void 0===a?void 0:a.data),"already exists"===e.data.msg)&&(T(null===(o=e.data)||void 0===o?void 0:o.token),g(null===(c=e.data)||void 0===c?void 0:c._id),localStorage.setItem("liveid",null===(s=e.data)||void 0===s?void 0:s.id),w(null===(r=e.data)||void 0===r?void 0:r.channelName),_(!0));(null===(t=e.data)||void 0===t?void 0:t.status)&&(localStorage.setItem("liveid",null===(i=e.data)||void 0===i||null===(d=i.data)||void 0===d?void 0:d._id),T(null===(u=e.data)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.token),w(null===(v=e.data)||void 0===v||null===(f=v.data)||void 0===f?void 0:f.channelName),g(null===(p=e.data)||void 0===p||null===(b=p.data)||void 0===b?void 0:b._id),_(!0));localStorage.setItem("astrotokenforlivestream",null===(n=e.data)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.token),h(!0)})).catch((function(e){var a;console.log(null===(a=e.response)||void 0===a?void 0:a.data)})),"Deactive"===S&&(b.a.delete("/user/dltliveChat/".concat(G.id)).then((function(e){console.log(e.data),window.close()})).catch((function(e){console.log(e.response)})),window.close(),localStorage.removeItem("astrotokenforlivestream"))}(e)},color:"success"},"Start Live"))),o.a.createElement(r.a,null,o.a.createElement("div",{className:"container mt-1 mb-1"},o.a.createElement(s.a,null,!1===P?o.a.createElement(o.a.Fragment,null,o.a.createElement(r.a,{className:"mt-1"},o.a.createElement(d.a,{check:!0},o.a.createElement(u.a,{value:"Active",onClick:function(e){x(e.target.value)},name:"radio1",type:"radio"})," ",o.a.createElement(m.a,{check:!0},"Online")))):null,o.a.createElement(r.a,{className:"mt-1"},o.a.createElement(d.a,{check:!0},o.a.createElement(u.a,{value:"Deactive",onClick:function(e){x(e.target.value),b.a.delete("/user/dltliveChat/".concat(G.id)).then((function(e){console.log(e.data),b.a.get("/user/disConnectLiveStream/".concat(G.id)).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.response)})),window.close()})).catch((function(e){console.log(e.response)})),window.close()},name:"radio1",type:"radio"})," ",o.a.createElement(m.a,{check:!0},"Offline"))))))),o.a.createElement("div",{className:"mt-1 mb-1"},t&&"Active"===S?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{style:{display:"flex",width:"100%",height:"80vh",border:"1px solid black",borderRadius:"8px"},className:"maindivstream container mt-3 mb-3"},o.a.createElement("div",{style:{marginLeft:"-10px",display:"flex",width:"60vw",height:"80vh",borderRadius:"8px"},className:""},o.a.createElement(v.a,{rtcProps:H,callbacks:K})),o.a.createElement("div",{style:{display:"flex",width:"30vw",height:"80vh"}},o.a.createElement("div",null,o.a.createElement(C,{sellerid:G.id})))))):o.a.createElement(o.a.Fragment,null,!0===z?o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{onClick:function(){return h(!0)},color:"success"},"liveStreams Now")):null))))}},809:function(e,a,t){"use strict";var n=t(5),l=t(7),o=t(0),c=t.n(o),s=t(1),r=t.n(s),i=t(4),d=t.n(i),u=t(3),m=["className","cssModule","hidden","widths","tag","check","size","for"],v=r.a.oneOfType([r.a.number,r.a.string]),h=r.a.oneOfType([r.a.bool,r.a.string,r.a.number,r.a.shape({size:v,order:v,offset:v})]),f={children:r.a.node,hidden:r.a.bool,check:r.a.bool,size:r.a.string,for:r.a.string,tag:u.tagPropType,className:r.a.string,cssModule:r.a.object,xs:h,sm:h,md:h,lg:h,xl:h,widths:r.a.array},p={tag:"label",widths:["xs","sm","md","lg","xl"]},g=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},b=function(e){var a=e.className,t=e.cssModule,o=e.hidden,s=e.widths,r=e.tag,i=e.check,v=e.size,h=e.for,f=Object(l.a)(e,m),p=[];s.forEach((function(a,n){var l=e[a];if(delete f[a],l||""===l){var o,c=!n;if(Object(u.isObject)(l)){var s,r=c?"-":"-"+a+"-";o=g(c,a,l.size),p.push(Object(u.mapToCssModules)(d()(((s={})[o]=l.size||""===l.size,s["order"+r+l.order]=l.order||0===l.order,s["offset"+r+l.offset]=l.offset||0===l.offset,s))),t)}else o=g(c,a,l),p.push(o)}}));var b=Object(u.mapToCssModules)(d()(a,!!o&&"sr-only",!!i&&"form-check-label",!!v&&"col-form-label-"+v,p,!!p.length&&"col-form-label"),t);return c.a.createElement(r,Object(n.a)({htmlFor:h},f,{className:b}))};b.propTypes=f,b.defaultProps=p,a.a=b},819:function(e,a,t){"use strict";var n=t(5),l=t(7),o=t(0),c=t.n(o),s=t(1),r=t.n(s),i=t(4),d=t.n(i),u=t(3),m=["className","cssModule","row","disabled","check","inline","tag"],v={children:r.a.node,row:r.a.bool,check:r.a.bool,inline:r.a.bool,disabled:r.a.bool,tag:u.tagPropType,className:r.a.string,cssModule:r.a.object},h=function(e){var a=e.className,t=e.cssModule,o=e.row,s=e.disabled,r=e.check,i=e.inline,v=e.tag,h=Object(l.a)(e,m),f=Object(u.mapToCssModules)(d()(a,!!o&&"row",r?"form-check":"form-group",!(!r||!i)&&"form-check-inline",!(!r||!s)&&"disabled"),t);return"fieldset"===v&&(h.disabled=s),c.a.createElement(v,Object(n.a)({},h,{className:f}))};h.propTypes=v,h.defaultProps={tag:"div"},a.a=h},889:function(e,a,t){},890:function(e,a,t){}}]);
//# sourceMappingURL=54.bc1d4ed3.chunk.js.map