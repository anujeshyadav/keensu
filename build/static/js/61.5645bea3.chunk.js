(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[61],{1693:function(e,a,t){},2172:function(e,a,t){"use strict";t.r(a);var l=t(27),n=t(0),o=t.n(n),c=t(1257),s=t(1255),r=t(1256),i=t(189),d=t(819),m=t(803),u=t(809),v=t(1009),h=t(13),f=t(14),g=t(16),b=t(15),p=(t(1693),t(42)),E=(t(129),t(890),function(e){Object(g.a)(t,e);var a=Object(b.a)(t);function t(e){var l;return Object(h.a)(this,t),(l=a.call(this,e)).state={},l}return Object(f.a)(t,[{key:"render",value:function(){return console.log("props value",this.props.roomChatData),o.a.createElement(o.a.Fragment,null,this.props.roomChatData.length?this.props.roomChatData.map((function(e,a){var t,l;return o.a.createElement(o.a.Fragment,null,"user"===e.type?o.a.createElement("div",{class:"message me"},o.a.createElement("div",{class:"message-body"},e.msg)):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"message"},o.a.createElement("div",{class:"message-body"},o.a.createElement(s.a,null,o.a.createElement(r.a,{lg:"4"},o.a.createElement("img",{style:{borderRadius:"50%"},width:"40px",height:"40px",src:null===e||void 0===e||null===(t=e.userid)||void 0===t?void 0:t.userimg[0]})),o.a.createElement(r.a,{lg:"8"},o.a.createElement(s.a,null,o.a.createElement("h6",{className:"container"},o.a.createElement("b",null," ",null===e||void 0===e||null===(l=e.userid)||void 0===l?void 0:l.fullname))),o.a.createElement(s.a,null,o.a.createElement("h6",{className:"container"},e.msg))))))))})).reverse():null)}}]),t}(o.a.Component)),O=function(e){Object(g.a)(t,e);var a=Object(b.a)(t);function t(e){var l;return Object(h.a)(this,t),(l=a.call(this,e)).handleliveChat=function(){setInterval((function(){localStorage.getItem("astroId");p.a.get("/user/liveChat_byseller/1").then((function(e){console.log(e.data),l.setState({roomChatData:null===e||void 0===e?void 0:e.data.data})})).catch((function(e){console.log(e)}))}),2e3)},l.componentDidMount=function(){l.handleliveChat(),console.log(l.props)},l.countRef=o.a.createRef(),l.apicall=o.a.createRef(),l.callmsg=o.a.createRef(),l.state={Index:"",data:{},sendbutton:"",Activeastro:{},CurrentRoomid:"",roomChatData:[],userId:"",astroId:"",msg:"hello",roomId:""},l}return Object(f.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:""},o.a.createElement("div",{class:"app rt-chats"},o.a.createElement("div",{class:"messages"},o.a.createElement("div",{className:"chat-header"},o.a.createElement("p",null,o.a.createElement("span",null,o.a.createElement("img",{className:"app-img",alt:"image"})))),o.a.createElement("div",{class:"messages-history"},o.a.createElement(E,{roomChatData:this.state.roomChatData.length>0?this.state.roomChatData:[]})))))}}]),t}(o.a.Component),j=(t(889),t(59));a.default=function(){var e=Object(n.useState)(!1),a=Object(l.a)(e,2),t=a[0],h=a[1],f=Object(n.useState)(""),g=Object(l.a)(f,2),b=g[0],E=g[1],k=Object(n.useState)(""),w=Object(l.a)(k,2),y=w[0],N=w[1],S=Object(n.useState)(""),C=Object(l.a)(S,2),I=C[0],x=C[1],D=Object(n.useState)(""),M=Object(l.a)(D,2),T=M[0],F=M[1],R=Object(n.useState)(!1),z=Object(l.a)(R,2),L=z[0],A=(z[1],Object(n.useState)(!1)),P=Object(l.a)(A,2),_=P[0],J=P[1],V=Object(n.useState)(!1),q=Object(l.a)(V,2),B=(q[0],q[1],Object(n.useState)()),G=Object(l.a)(B,2),H=(G[0],G[1],Object(j.h)());console.log(H.id);var K={appId:"211ddf5d3ed341acaf8f7608e94b7c91",channel:y,enableVideo:!0,token:T&&T||localStorage.getItem("astrotokenforlivestream"),uid:0,role:"host"};Object(n.useEffect)((function(){var e=function(){window.history.pushState(null,null,window.location.pathname)};return window.addEventListener("popstate",e),function(){window.removeEventListener("popstate",e)}}),[]);var Q={EndCall:function(){h(!1);localStorage.getItem("astroId");p.a.get("/user/disConnectLiveStream/".concat(b)).then((function(e){console.log(e.data),J(!1)})).catch((function(e){console.log(e.response)}))}};return o.a.createElement("div",{className:"videocallmain mt-2"},o.a.createElement(c.a,null,o.a.createElement(s.a,{className:"mt-2"},o.a.createElement(r.a,{lg:"4",md:"4",sm:"4"},o.a.createElement("div",{className:"container mt-2 mb-1"},o.a.createElement(i.a,{onClick:function(e){return function(e){e.preventDefault(),console.log(H.id);localStorage.getItem("astroId");"Active"===I&&p.a.post("/user/astroLiveStreaming",{astroAccount:"1",status:!0}).then((function(e){var a,t,l,n,o,c,s,r,i,d,m,u,v,f,g,b;(console.log(null===(a=e.data)||void 0===a?void 0:a.data),"already exists"===e.data.msg)&&(F(null===(o=e.data)||void 0===o?void 0:o.token),E(null===(c=e.data)||void 0===c?void 0:c._id),localStorage.setItem("liveid",null===(s=e.data)||void 0===s?void 0:s._id),N(null===(r=e.data)||void 0===r?void 0:r.channelName),J(!0));(null===(t=e.data)||void 0===t?void 0:t.status)&&(localStorage.setItem("liveid",null===(i=e.data)||void 0===i||null===(d=i.data)||void 0===d?void 0:d._id),F(null===(m=e.data)||void 0===m||null===(u=m.data)||void 0===u?void 0:u.token),N(null===(v=e.data)||void 0===v||null===(f=v.data)||void 0===f?void 0:f.channelName),E(null===(g=e.data)||void 0===g||null===(b=g.data)||void 0===b?void 0:b._id),J(!0));localStorage.setItem("astrotokenforlivestream",null===(l=e.data)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.token),h(!0)})).catch((function(e){var a;console.log(null===(a=e.response)||void 0===a?void 0:a.data)})),"Deactive"===I&&localStorage.removeItem("astrotokenforlivestream")}(e)},color:"success"},"liveStreaming Now"))),o.a.createElement(r.a,null,o.a.createElement("div",{className:"container mt-1 mb-1"},o.a.createElement(s.a,null,!1===_?o.a.createElement(o.a.Fragment,null,o.a.createElement(r.a,{className:"mt-1"},o.a.createElement(d.a,{check:!0},o.a.createElement(m.a,{value:"Active",onClick:function(e){x(e.target.value)},name:"radio1",type:"radio"})," ",o.a.createElement(u.a,{check:!0},"Online")))):null,o.a.createElement(r.a,{className:"mt-1"},o.a.createElement(d.a,{check:!0},o.a.createElement(m.a,{value:"Deactive",onClick:function(e){x(e.target.value),function(){var e=localStorage.getItem("liveid");console.log(e),p.a.get("/user/disConnectLiveStream/1").then((function(e){console.log(e.data),window.close()})).catch((function(e){console.log(e.response)}))}()},name:"radio1",type:"radio"})," ",o.a.createElement(u.a,{check:!0},"Offline"))))))),o.a.createElement("div",{className:"mt-1 mb-1"},t&&"Active"===I?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{style:{display:"flex",width:"100%",height:"80vh",border:"1px solid black",borderRadius:"8px"},className:"maindivstream container mt-3 mb-3"},o.a.createElement("div",{style:{marginLeft:"-10px",display:"flex",width:"60vw",height:"80vh",borderRadius:"8px"},className:""},o.a.createElement(v.a,{rtcProps:K,callbacks:Q})),o.a.createElement("div",{style:{display:"flex",width:"30vw",height:"80vh"}},o.a.createElement("div",null,o.a.createElement(O,null)))))):o.a.createElement(o.a.Fragment,null,!0===L?o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{onClick:function(){return h(!0)},color:"success"},"liveStreams Now")):null))))}},809:function(e,a,t){"use strict";var l=t(5),n=t(7),o=t(0),c=t.n(o),s=t(1),r=t.n(s),i=t(4),d=t.n(i),m=t(3),u=["className","cssModule","hidden","widths","tag","check","size","for"],v=r.a.oneOfType([r.a.number,r.a.string]),h=r.a.oneOfType([r.a.bool,r.a.string,r.a.number,r.a.shape({size:v,order:v,offset:v})]),f={children:r.a.node,hidden:r.a.bool,check:r.a.bool,size:r.a.string,for:r.a.string,tag:m.tagPropType,className:r.a.string,cssModule:r.a.object,xs:h,sm:h,md:h,lg:h,xl:h,widths:r.a.array},g={tag:"label",widths:["xs","sm","md","lg","xl"]},b=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},p=function(e){var a=e.className,t=e.cssModule,o=e.hidden,s=e.widths,r=e.tag,i=e.check,v=e.size,h=e.for,f=Object(n.a)(e,u),g=[];s.forEach((function(a,l){var n=e[a];if(delete f[a],n||""===n){var o,c=!l;if(Object(m.isObject)(n)){var s,r=c?"-":"-"+a+"-";o=b(c,a,n.size),g.push(Object(m.mapToCssModules)(d()(((s={})[o]=n.size||""===n.size,s["order"+r+n.order]=n.order||0===n.order,s["offset"+r+n.offset]=n.offset||0===n.offset,s))),t)}else o=b(c,a,n),g.push(o)}}));var p=Object(m.mapToCssModules)(d()(a,!!o&&"sr-only",!!i&&"form-check-label",!!v&&"col-form-label-"+v,g,!!g.length&&"col-form-label"),t);return c.a.createElement(r,Object(l.a)({htmlFor:h},f,{className:p}))};p.propTypes=f,p.defaultProps=g,a.a=p},819:function(e,a,t){"use strict";var l=t(5),n=t(7),o=t(0),c=t.n(o),s=t(1),r=t.n(s),i=t(4),d=t.n(i),m=t(3),u=["className","cssModule","row","disabled","check","inline","tag"],v={children:r.a.node,row:r.a.bool,check:r.a.bool,inline:r.a.bool,disabled:r.a.bool,tag:m.tagPropType,className:r.a.string,cssModule:r.a.object},h=function(e){var a=e.className,t=e.cssModule,o=e.row,s=e.disabled,r=e.check,i=e.inline,v=e.tag,h=Object(n.a)(e,u),f=Object(m.mapToCssModules)(d()(a,!!o&&"row",r?"form-check":"form-group",!(!r||!i)&&"form-check-inline",!(!r||!s)&&"disabled"),t);return"fieldset"===v&&(h.disabled=s),c.a.createElement(v,Object(l.a)({},h,{className:f}))};h.propTypes=v,h.defaultProps={tag:"div"},a.a=h},889:function(e,a,t){},890:function(e,a,t){}}]);
//# sourceMappingURL=61.5645bea3.chunk.js.map